<div class="movie-list-container">
  <app-hero-banner [movie]="featuredMovie"></app-hero-banner>

  <div class="container-fluid">
    <!-- Latest Releases Section -->
    @if (!searchQuery) {
      <section class="movies-section">
        <div class="section-header">
          <h2 class="section-title">Latest Releases</h2>
        </div>
        @if (isLoading) {
          <div class="loading-state">
            <p>Loading movies...</p>
          </div>
        } @else {
          <div class="movies-carousel">
            @for (movie of popularMovies; track movie.id) {
              <div class="movie-card-wrapper">
                <app-movie-card [movie]="movie"></app-movie-card>
              </div>
            }
          </div>
        }
      </section>

      <!-- Top Rated Section -->
      <section class="movies-section">
        <div class="section-header">
          <h2 class="section-title">Top Rated</h2>
        </div>
        @if (isLoading) {
          <div class="loading-state">
            <p>Loading movies...</p>
          </div>
        } @else {
          <div class="movies-carousel">
            @for (movie of topRatedMovies; track movie.id) {
              <div class="movie-card-wrapper">
                <app-movie-card [movie]="movie"></app-movie-card>
              </div>
            }
          </div>
        }
      </section>
    } @else {
      <!-- Search Results -->
      <section class="movies-section">
        <div class="section-header">
          <h2 class="section-title">Search Results for "{{ searchQuery }}"</h2>
        </div>
        @if (isLoading) {
          <div class="loading-state">
            <p>Searching movies...</p>
          </div>
        } @else if (popularMovies.length === 0) {
          <div class="empty-state">
            <p>No movies found.</p>
          </div>
        } @else {
          <div class="movies-carousel">
            @for (movie of popularMovies; track movie.id) {
              <div class="movie-card-wrapper">
                <app-movie-card [movie]="movie"></app-movie-card>
              </div>
            }
          </div>
        }
      </section>
    }
  </div>
</div>
